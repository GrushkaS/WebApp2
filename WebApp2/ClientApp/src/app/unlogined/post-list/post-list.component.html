<h2>List of posts</h2>

<div class="container-header">
  <input type="text" placeholder="Search by title..." [(ngModel)]="searchString">
  <button *ngIf="currentUser !== 'unknown'" (click)="goAdd()" class="btn btn-sm btn-success">Add post</button>
</div>

<table class="table table-striped">
  <thead class="bg-primary">
  <tr>
    <td></td>
    <td>Title</td>
    <td>Text</td>
    <td>Author</td>
    <td>Date</td>
    <td></td>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let p of posts | searchPosts: searchString">
      <td>*</td>
      <td>{{p?.title}}</td>
      <td>{{p?.text.substr(0,50) + ' ...'}}</td>
      <td>{{p?.author}}</td>
      <td>{{p?.date}}</td>
      <td>
        <button (click)="read(p.id)" class="btn btn-sm btn-dark" >Read</button>
        <button *ngIf="currentUserId === p.userNumber" (click)="delete(p.id)" class="btn btn-sm btn-danger">Delete</button>
      </td>
  </tr>
  </tbody>
</table>

<button (click)="scrollToTop()" *ngIf="pageYOffset > 0" class="btn btn-outline-primary scroll-to-top">Up</button>
